# PMO-3802签到页需求

## 链接

### jira
[http://jira.17gwx.com/browse/PMO-3802](http://jira.17gwx.com/browse/PMO-3802)

### PRD
[prd.17gwx.com/交易/推荐列表订单转化/签到频道订单转化提升V1/#g=1&p=签到页推荐列表](prd.17gwx.com/交易/推荐列表订单转化/签到频道订单转化提升V1/#g=1&p=签到页推荐列表)

### 蓝湖
[https://lanhuapp.com/url/TIUpq-p2YyK](https://lanhuapp.com/url/TIUpq-p2YyK)

## 时间点
### 提测日期
2019年7月24日
### beta日期
2019年7月25日
### 上线日期
2019年7月26日上午

## 开发

### 分类接口

#### 普通合集
由于合集分为男性和女性数据有区别，所以服务端用了两个枚举的集合

##### 女
|合集ID|标题|副标题|
|:--:|:--:|:--:|
|615|清洁能手|清洁新生活|
|5694|每日必吃|吃货最爱|
|5693|美妆大咖|天生爱美丽|
|5695|内衣袜子|舒适实惠|
|5696|数码周边|超值好货|

##### 男
|合集ID|标题|副标题|
|:--:|:--:|:--:|
|615|清洁能手|清洁新生活|
|5694|每日必吃|吃货最爱|
|5697|内衣袜子|舒适实惠|
|5696|数码周边|超值好货|
|5693|个护美妆|超好用|

>普通合集的合集id是推荐服务那边定义的

#### 特殊合集
特殊合集是不走推荐接口的，服务端用了一个枚举的集合放置，同时返回的时候区别于普通合集

|特殊合集ID|标题|副标题|
|:--:|:--:|:--:|
|0|特价好货|天天特卖|
|1|9.9包邮|低价抢购|
|2|今日爆卖|大家都在买|

>特殊合集的合集id是api这边自定义的

### 今日爆卖接口
爆卖接口在原有的基础之上增加了一个`cate`参数，如果调用方不需要`cate_list`的数据，可以传`0`，默认为`1`

### 增长业务列表接口（推荐接口）
目前就是特价好货模块和普通合集的模块在调用，由于推荐那边不在返回完整的`coupon`信息，所以填充`coupon`的工作放到了`api`层来操作

>需要优化的地方是，由于填充方法额返利信息填充糅合到一起了，所以这个地方存在调用两次ab的情况

## 影响接口

|模块|链接|文档|
|:--|:--|:--|
|分类|/v2/recommend/checkin/category|[文档](http://doc.17gwx.com/sqkb-api-v2/#%E7%AD%BE%E5%88%B0%E9%A1%B5%E9%9D%A2category%E5%88%86%E7%B1%BB%E5%88%97%E8%A1%A8)|
|9.9包邮|/v2/element/list|[文档](http://doc.17gwx.com/sqkb-api-v2/#%E8%BF%90%E8%90%A5%E9%A1%B5%E9%9D%A2%E4%BC%98%E6%83%A0%E5%88%B8%E5%88%97%E8%A1%A8%EF%BC%8C%E7%9B%AE%E5%89%8D%E5%8F%AA%E5%A4%84%E7%90%86%E4%B9%9D%E5%9D%97%E4%B9%9D%E8%AF%B7%E6%B1%82)|
|今日爆卖|/v2/coupon/todayHot/list|[文档](http://doc.17gwx.com/sqkb-api-v2/#%E4%BB%8A%E6%97%A5%E7%88%86%E6%AC%BE%E9%A6%96%E9%A1%B5%E5%95%86%E5%93%81)|
|特价好货|/v2/recommend/coupon/listForGrowth|[文档](http://doc.17gwx.com/sqkb-api-v2/#%E5%A2%9E%E9%95%BF%E4%B8%9A%E5%8A%A1%E5%95%86%E5%93%81%E5%88%97%E8%A1%A8-%E5%B8%A6%E8%BF%94%E5%88%A9)|
|其他合集|/v2/recommend/coupon/listForGrowth|[文档](http://doc.17gwx.com/sqkb-api-v2/#%E5%A2%9E%E9%95%BF%E4%B8%9A%E5%8A%A1%E5%95%86%E5%93%81%E5%88%97%E8%A1%A8-%E5%B8%A6%E8%BF%94%E5%88%A9)|

>分类和其他合集调用的是一个接口，但是分裂模块获取数据的时候`cate_id`必须设置为`0`